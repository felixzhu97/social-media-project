@startuml
!include ./c4-plantuml//C4_Component.puml

LAYOUT_WITH_LEGEND()

' 组件图 - Web应用
Container_Boundary(web_app, "Web应用") {
    Component(home_feed, "首页Feed", "Next.js Page", "展示关注用户的帖子")
    Component(explore_page, "发现页", "Next.js Page", "发现新内容")
    Component(post_page, "帖子页", "Next.js Page", "查看和互动帖子")
    Component(story_page, "故事页", "Next.js Page", "查看24小时故事")
    Component(messages_page, "消息页", "Next.js Page", "私信功能")
    Component(notifications_page, "通知页", "Next.js Page", "查看通知")
    Component(profile_page, "个人主页", "Next.js Page", "用户个人资料")
    Component(login_page, "登录页", "Next.js Page", "用户登录")
    Component(register_page, "注册页", "Next.js Page", "用户注册")
    Component(search_page, "搜索页", "Next.js Page", "搜索用户和内容")
}

' 组件图 - API服务
Container_Boundary(api, "API服务") {
    Component(users_route, "用户路由", "Express Router", "处理用户相关请求")
    Component(posts_route, "帖子路由", "Express Router", "处理帖子相关请求")
    Component(stories_route, "故事路由", "Express Router", "处理故事相关请求")
    Component(messages_route, "消息路由", "Express Router", "处理消息相关请求")
    Component(notifications_route, "通知路由", "Express Router", "处理通知相关请求")
    Component(follows_route, "关注路由", "Express Router", "处理关注关系")
    Component(search_route, "搜索路由", "Express Router", "处理搜索请求")

    Component(user_controller, "用户控制器", "TypeScript", "处理用户认证和授权")
    Component(post_controller, "帖子控制器", "TypeScript", "处理帖子业务逻辑")
    Component(story_controller, "故事控制器", "TypeScript", "处理故事业务逻辑")
    Component(message_controller, "消息控制器", "TypeScript", "处理消息业务逻辑")
    Component(notification_controller, "通知控制器", "TypeScript", "处理通知业务逻辑")
    Component(follow_controller, "关注控制器", "TypeScript", "处理关注关系")
    Component(search_controller, "搜索控制器", "TypeScript", "处理搜索逻辑")

    Component(user_model, "用户模型", "Mongoose", "用户数据模型")
    Component(post_model, "帖子模型", "Mongoose", "帖子数据模型")
    Component(story_model, "故事模型", "Mongoose", "故事数据模型")
    Component(message_model, "消息模型", "Mongoose", "消息数据模型")
    Component(notification_model, "通知模型", "Mongoose", "通知数据模型")
    Component(follow_model, "关注模型", "Mongoose", "关注关系模型")
}
@enduml
